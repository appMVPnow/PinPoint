<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>PinPoint</title>
        <meta
            name="description"
            content="A new app that lets you pin your world to capture, organize, and relive every moment." />
        <link rel="icon" href="/Images/favicon.png" type="image/png" />
        <link href="https://fonts.googleapis.com/css2?family=MuseoModerno:wght@700&display=swap" rel="stylesheet" />
        <link rel="stylesheet" href="styles.css">

        <!-- Open Graph / Twitter -->
        <meta property="og:type" content="website" />
        <meta property="og:title" content="PinPoint" />
        <meta property="og:description" content="Capture Life on a Map" />
        <meta property="og:image" content="https://yourdomain.com/og-image.jpg" />
        <meta name="twitter:card" content="summary_large_image" />

        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-9C81R77B92"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-9C81R77B92');
        </script>
    </head>
    <body>
        <!-- Header -->
        <!-- Header -->
        <header class="site" id="siteHeader">
            <div class="container">
                <div class="brand">
                    <div class="logo">
                        <img src="Images/logoV4.png" alt="logo" />
                    </div>
                    <div class="brand-name">pinpoint</div>
                    <div class="brand-slogan">Life. Pinned.</div>
                </div>
            </div>
        </header>

        <main id="main" class="stack">
            <!-- Hero (split) -->
            <section class="container hero hero-split">
                <div class="hero-left reveal" data-stagger>
                    <a style="font-size: 50px; font-weight: 700;" class="underline">Capture Life on a Map</a>
                    <p style="margin-top: 10px;" class="muted">
                        A new app that lets you pin your world to capture, organize, and relive every moment.
                    </p>
                    <div class="hero-cta">
                        <a
                            class="btn btn-primary ripple"
                            id="openSignup"
                            href="https://testflight.apple.com/join/eW6wHkzv"
                            target="_blank"
                            aria-label="Get Early Access"
                            >Get Early Access</a
                        >
                    </div>
                </div>

                <div class="hero-right">
                    <div class="shots-split">
                        <div class="device p-lg tilt reveal left-tilt">
                            <img src="Images/MapView.png" alt="App screenshot 1" />
                        </div>
                        <div class="device p-lg tilt reveal right-tilt">
                            <img src="Images/DropView.png" alt="App screenshot 2" />
                        </div>
                    </div>
                </div>
            </section>

            <!-- Features -->
            <section id="features" class="container stack">
                <h2 class="underline reveal">Features</h2>
                <div class="grid grid-3">
                    <article class="card p-lg feature reveal">
                        <h3>üìå Everything in One Place</h3>
                        <p class="muted">
                            A new approach to capture the moment with your location, photos, comment, &amp; rating all
                            in one pin.
                        </p>
                    </article>
                    <article class="card p-lg feature reveal">
                        <h3>üóÇÔ∏è Stay Organized</h3>
                        <p class="muted">
                            Pins can be organized in collections and tagged with keywords for fast searchability.
                        </p>
                    </article>
                    <article class="card p-lg feature reveal">
                        <h3>üîç Search &amp; Revisit</h3>
                        <p class="muted">
                            Easily find your pins and view them on an interactive globe to relive where you‚Äôve been.
                        </p>
                    </article>
                </div>
                <div class="card p-lg feature reveal container stack">
                    <p class="muted">
                        <b>üèÜ Get Rewarded: </b>Earn pinpoints and level up your travel reputation as you place pins.
                    </p>
                </div>
            </section>

            <section id="testimonials" class="container stack">
                <div class="center">
                    <h2>What our first users are saying</h2>
                    <p class="muted">Early feedback from Beta users</p>
                </div>

                <div class="testimonial-wrap card p-xl">
                    <!-- Slider viewport -->
                    <div class="t-viewport" aria-roledescription="carousel" aria-label="Testimonials" tabindex="0">
                        <!-- Track -->
                        <ul class="t-track" role="list" aria-live="polite">
                            <!-- SLIDE 1 -->
                            <li class="t-slide" role="group" aria-label="1 of 3">
                                <figure class="t-card">
                                    <figcaption class="t-head">
                                        <div class="t-avatar" aria-hidden="true">FK</div>
                                        <div class="t-meta">
                                            <strong>Early user</strong>
                                            <div class="muted small">Startup founder</div>
                                        </div>
                                    </figcaption>
                                    <blockquote class="t-quote">
                                        ‚ÄúWe created this app because we kept forgetting our favorite restaurants, bars,
                                        and places from our travels. Now we hope it helps you capture and revisit your
                                        own favorite places, too‚Äù
                                    </blockquote>
                                </figure>
                            </li>

                            <!-- SLIDE 2 -->
                            <li class="t-slide" role="group" aria-label="2 of 3">
                                <figure class="t-card">
                                    <figcaption class="t-head">
                                        <div class="t-avatar" aria-hidden="true">MJ</div>
                                        <div class="t-meta">
                                            <strong>Early user</strong>
                                            <div class="muted small">Director in leading IT company</div>
                                        </div>
                                    </figcaption>
                                    <blockquote class="t-quote">
                                        ‚ÄúI wish I had this app from when I was 21. Start of my career would have been
                                        amazing to go back and see all the holidays, tourism, events and work
                                        destinations. Now they are scattered in memory and random photos here and there
                                        that nobody knows where they are.‚Äù
                                    </blockquote>
                                </figure>
                            </li>

                            <!-- SLIDE 3 -->
                            <li class="t-slide" role="group" aria-label="3 of 3">
                                <figure class="t-card">
                                    <figcaption class="t-head">
                                        <div class="t-avatar" aria-hidden="true">RS</div>
                                        <div class="t-meta">
                                            <strong>Early user</strong>
                                            <div class="muted small">University student</div>
                                        </div>
                                    </figcaption>
                                    <blockquote class="t-quote">
                                        ‚ÄúAs a student, I‚Äôm always discovering new cafes, study spots, and bars with
                                        friends but constantly forget where they are. With this app, I can just pin them
                                        instantly. Now I have my own map of favorite places around campus and the city,
                                        and it makes planning nights out or study sessions so much easier."
                                    </blockquote>
                                </figure>
                            </li>
                        </ul>
                    </div>

                    <!-- Controls -->
                    <div class="t-controls">
                        <button class="btn btn-ghost t-prev" aria-label="Previous testimonial" title="Previous">
                            ‚Äπ
                        </button>
                        <div class="t-dots" role="tablist" aria-label="Choose testimonial"></div>
                        <button class="btn btn-ghost t-next" aria-label="Next testimonial" title="Next">‚Ä∫</button>
                    </div>
                </div>
            </section>

            <!-- Why -->
            <section id="why" class="container stack">
                <h2 class="underline reveal">Why use PinPoint?</h2>
                <div class="card p-lg feature reveal">
                    <p class="muted">
                        <b
                            >Have you ever wanted to take a photo, write a brief comment, save your location, and
                            perhaps rate your current experience so you can remember how it was?</b
                        >
                        Well at the moment this is not as simple as it should be. The solution: just place a pin and
                        have everything in one place.
                    </p>
                </div>
            </section>

            <!-- Roadmap -->
            <section id="roadmap" class="container stack">
                <h2 class="underline reveal">Roadmap</h2>
                <div class="card p-lg feature reveal">
                    <p class="muted">
                        We have many ideas and are excited to embark on this journey with you. We have split the
                        development into three main phases listed below. For more information on new features and to
                        stay updated with what's coming next download the app and follow us on social media.
                    </p>
                </div>
                <div class="steps">
                    <div class="card p-lg feature step reveal">
                        <div class="num">Phase 1</div>
                        <h3>Personal Use (Current BETA)</h3>
                        <p class="muted">
                            <b>Introducing private pins...</b><br />
                            Place pins for yourself as you explore the world.
                        </p>
                        <div class="progress animate" aria-hidden="true"><span></span></div>
                    </div>
                    <div class="card p-lg feature step reveal">
                        <div class="num">Phase 2</div>
                        <h3>Social Media</h3>
                        <p class="muted">
                            <b>Introducing shared pins...</b> <br />View pins in a feed and share them with friends
                            &amp; family.
                        </p>
                        <div class="progress animate" aria-hidden="true"><span></span></div>
                    </div>
                    <div class="card p-lg feature step reveal">
                        <div class="num">Phase 3</div>
                        <h3>Travel Guide</h3>
                        <p class="muted">
                            <b>Introducing global pins...</b><br />Pins can be available globally to find the best
                            places to go.
                        </p>
                        <div class="progress animate" aria-hidden="true"><span></span></div>
                    </div>
                </div>
            </section>

            <!-- FAQ -->
            <section id="faq" class="container stack">
                <h2 class="underline reveal">FAQs</h2>

                <div class="faq card p-xl reveal">
                    <div class="faq-list" role="list">
                        <article class="faq-item" role="listitem">
                            <button class="faq-q" aria-expanded="false">
                                <span>1. How is this different from Google Maps?</span>
                                <svg class="faq-icon" width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
                                    <path
                                        d="M12 5v14M5 12h14"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round" />
                                </svg>
                            </button>
                            <div class="faq-a">
                                <p class="muted">
                                    Unlike Google Maps, our platform is a new way to capture experiences with pins.
                                    We‚Äôve focused on a more personalized and customizable experience that gives you more
                                    control, recognition, and enjoyment as you explore the world.
                                </p>
                            </div>
                        </article>

                        <article class="faq-item" role="listitem">
                            <button class="faq-q" aria-expanded="false">
                                <span>2. How do I earn pinpoints?</span>
                                <svg class="faq-icon" width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
                                    <path
                                        d="M12 5v14M5 12h14"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round" />
                                </svg>
                            </button>
                            <div class="faq-a">
                                <p class="muted">
                                    You earn pinpoints when you place a pin based on quality and organization. The
                                    specific breakdown is: placing a pin (+10), adding a photo (+10), adding a comment
                                    (+10), adding it to a collection (+10), adding a tag (+10). None awarded when
                                    editing a pin.
                                </p>
                            </div>
                        </article>

                        <article class="faq-item" role="listitem">
                            <button class="faq-q" aria-expanded="false">
                                <span>3. Will I lose my pins on App Store release?</span>
                                <svg class="faq-icon" width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
                                    <path
                                        d="M12 5v14M5 12h14"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round" />
                                </svg>
                            </button>
                            <div class="faq-a">
                                <p class="muted">
                                    No, the pins that you place are yours forever. We encourage you to start now to get
                                    bonus recognition and help shape the future of the app.
                                </p>
                            </div>
                        </article>

                        <article class="faq-item" role="listitem">
                            <button class="faq-q" aria-expanded="false">
                                <span>4. How private are my pins?</span>
                                <svg class="faq-icon" width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
                                    <path
                                        d="M12 5v14M5 12h14"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round" />
                                </svg>
                            </button>
                            <div class="faq-a">
                                <p class="muted">
                                    Your privacy is important to us. By default, your pins are only visible to you. We
                                    never share your pins or personal data with third parties without your consent.
                                </p>
                            </div>
                        </article>

                        <article class="faq-item" role="listitem">
                            <button class="faq-q" aria-expanded="false">
                                <span>5. How can I get the app?</span>
                                <svg class="faq-icon" width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
                                    <path
                                        d="M12 5v14M5 12h14"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round" />
                                </svg>
                            </button>
                            <div class="faq-a">
                                <p class="muted">
                                    The app is currently in Beta, so access is limited for now. You can download it on
                                    TestFlight using only this
                                    <a
                                        href="https://testflight.apple.com/join/eW6wHkzv"
                                        target="_blank"
                                        style="color: blue; text-decoration: underline"
                                        >link</a
                                    >.
                                </p>
                            </div>
                        </article>
                    </div>
                </div>
            </section>

            <!-- Download CTA -->
            <section id="download" class="container stack center">
                <div class="card p-xl reveal">
                    <h2 class="underline">Ready to try it?</h2>
                    <p class="muted">üëá Join early users now.</p>
                    <a
                        class="btn btn-primary"
                        id="openSignup2"
                        href="https://testflight.apple.com/join/eW6wHkzv"
                        target="_blank"
                        aria-label="Start Now"
                        >Start Now</a
                    >
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer id="siteFooter">
            <div class="container-wide">
                <div class="card p-xl footer-card">
                    <div class="footer-sections" role="navigation" aria-label="Footer">
                        <!-- Legal -->
                        <section class="footer-group">
                            <h3>Legal</h3>
                            <ul class="footer-list">
                                <li><a href="/legal.html">Terms &amp; Conditions</a></li>
                                <li><a href="/legal.html#privacy">Privacy Policy</a></li>
                            </ul>
                        </section>

                        <!-- Feedback -->
                        <section class="footer-group">
                            <h3>App Feedback</h3>
                            <p class="muted small">We‚Äôd love to hear your thoughts.</p>
                            <a
                                class="cta"
                                href="https://docs.google.com/forms/d/e/1FAIpQLSeVFz1VTU1FVYwWKJqjsEcSSoLfRpMycNq_qk9Wr5K8wfHBOQ/viewform?hl=en"
                                target="_blank"
                                >Leave Feedback</a
                            >
                        </section>

                        <!-- Contact -->
                        <section class="footer-group">
                            <h3>Contact Us</h3>
                            <address class="muted small not-italic">
                                Email: <a href="mailto:team@getpinpointapp.com">team@getpinpointapp.com</a>
                            </address>
                        </section>
                    </div>
                </div>
                <div class="footer-meta muted">¬© <span id="year"></span> PinPoint. All rights reserved.</div>
            </div>
        </footer>

        <script>
            // keep your dynamic year
            document.getElementById("year").textContent = new Date().getFullYear();
        </script>

        <script>
            // Year stamp (defensive)
            document.getElementById("year").textContent = new Date().getFullYear();

            // Remove duplicate headers/footers if templated twice
            document.addEventListener("DOMContentLoaded", () => {
                const headers = document.querySelectorAll("header.site");
                for (let i = 1; i < headers.length; i++) headers[i].remove();
                const footers = document.querySelectorAll("footer");
                for (let i = 1; i < footers.length; i++) footers[i].remove();
            });

            // Auto-hide header
            (function () {
                const header = document.getElementById("siteHeader");
                let lastY = window.scrollY,
                    hideArmed = false;
                const MIN_SCROLL_BEFORE_HIDE = 180,
                    DELTA_HIDE = 12,
                    DELTA_SHOW = 6;
                function onScroll() {
                    const y = window.scrollY;
                    header.classList.toggle("scrolled", y > 6);
                    if (!hideArmed && y > MIN_SCROLL_BEFORE_HIDE) hideArmed = true;
                    const dy = y - lastY;
                    if (hideArmed) {
                        if (dy > DELTA_HIDE) header.classList.add("hide");
                        else if (dy < -DELTA_SHOW) header.classList.remove("hide");
                    } else header.classList.remove("hide");
                    lastY = y;
                }
                let ticking = false;
                window.addEventListener(
                    "scroll",
                    () => {
                        if (!ticking) {
                            requestAnimationFrame(() => {
                                onScroll();
                                ticking = false;
                            });
                            ticking = true;
                        }
                    },
                    { passive: true }
                );
            })();

            // Reveal on scroll (+ stagger)
            const reveals = document.querySelectorAll(".reveal");
            const io = new IntersectionObserver(
                (entries) => {
                    entries.forEach((e) => {
                        if (e.isIntersecting) {
                            const el = e.target;
                            if (el.matches("[data-stagger]")) {
                                [...el.children].forEach((child, i) => {
                                    child.style.transitionDelay = i * 60 + "ms";
                                    child.classList.add("reveal", "active");
                                });
                            }
                            el.classList.add("active");
                            io.unobserve(el);
                        }
                    });
                },
                { threshold: 0.12 }
            );
            reveals.forEach((el) => io.observe(el));

            // Tilt effect
            const tiltEls = document.querySelectorAll(".tilt");
            tiltEls.forEach((card) => {
                const damp = 20;
                function move(e) {
                    const r = card.getBoundingClientRect(),
                        cx = r.left + r.width / 2,
                        cy = r.top + r.height / 2;
                    const dx = (e.clientX - cx) / r.width,
                        dy = (e.clientY - cy) / r.height;
                    card.style.transform = `rotateX(${(-dy * damp).toFixed(2)}deg) rotateY(${(dx * damp).toFixed(2)}deg)`;
                }
                function reset() {
                    card.style.transform = "rotateX(0) rotateY(0)";
                }
                card.addEventListener("mousemove", move);
                card.addEventListener("mouseleave", reset);
                card.addEventListener(
                    "touchmove",
                    (e) => {
                        const t = e.touches[0];
                        if (!t) return;
                        move(t);
                    },
                    { passive: true }
                );
                card.addEventListener("touchend", () => (card.style.transform = ""));
            });

            // Ripple
            function addRipple(el) {
                el.addEventListener("click", function (e) {
                    const rect = el.getBoundingClientRect(),
                        d = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - d / 2,
                        y = e.clientY - rect.top - d / 2;
                    const span = document.createElement("span");
                    Object.assign(span.style, {
                        position: "absolute",
                        left: x + "px",
                        top: y + "px",
                        width: d + "px",
                        height: d + "px",
                        borderRadius: "50%",
                        background: "rgba(255,255,255,.45)",
                        transform: "scale(0)",
                        pointerEvents: "none",
                        opacity: "0.65",
                        transition: "transform .5s ease, opacity .6s ease"
                    });
                    el.style.position = "relative";
                    el.appendChild(span);
                    requestAnimationFrame(() => {
                        span.style.transform = "scale(1)";
                        span.style.opacity = "0";
                    });
                    setTimeout(() => span.remove(), 600);
                });
            }
            document.querySelectorAll(".ripple").forEach(addRipple);

            // FAQ accordion (max-height smooth)
            (function () {
                const items = document.querySelectorAll("#faq .faq-item");
                items.forEach((item) => {
                    const btn = item.querySelector(".faq-q");
                    btn.addEventListener("click", () => {
                        const isOpen = item.classList.contains("open");
                        items.forEach((it) => {
                            it.classList.remove("open");
                            it.querySelector(".faq-q").setAttribute("aria-expanded", "false");
                        });
                        if (!isOpen) {
                            item.classList.add("open");
                            btn.setAttribute("aria-expanded", "true");
                        }
                    });
                });
            })();

            (function () {
                const root = document.querySelector("#testimonials .testimonial-wrap");
                if (!root) return;

                const viewport = root.querySelector(".t-viewport");
                const track = root.querySelector(".t-track");
                const slides = Array.from(root.querySelectorAll(".t-slide"));
                const prevBtn = root.querySelector(".t-prev");
                const nextBtn = root.querySelector(".t-next");
                const dotsWrap = root.querySelector(".t-dots");

                const mqlReduce = window.matchMedia("(prefers-reduced-motion: reduce)");
                const AUTOPLAY_DELAY = 7000;
                const SWIPE_THRESHOLD = 40;

                let index = 0;
                let timer = null;
                let isHoverPaused = false;
                let isFocusPaused = false;
                const total = slides.length;

                // --- Setup ARIA / Dots ---
                function buildDots() {
                    dotsWrap.innerHTML = "";
                    slides.forEach((_, i) => {
                        const b = document.createElement("button");
                        b.type = "button";
                        b.className = "t-dot";
                        b.setAttribute("role", "tab");
                        b.setAttribute("aria-label", `Go to testimonial ${i + 1} of ${total}`);
                        b.addEventListener("click", () => goTo(i, true));
                        dotsWrap.appendChild(b);
                    });
                }

                function updateAria() {
                    // Update dots selection
                    const dots = Array.from(dotsWrap.children);
                    dots.forEach((d, i) => d.setAttribute("aria-selected", i === index ? "true" : "false"));

                    // Update group labels: "x of N"
                    slides.forEach((li, i) => {
                        const label = `${i + 1} of ${total}`;
                        li.setAttribute("aria-label", label);
                    });
                }

                // --- Movement ---
                function goTo(i, userInitiated = false) {
                    index = (i + total) % total;
                    track.style.transform = `translateX(-${index * 100}%)`;
                    updateAria();
                    if (userInitiated) restartAutoplay();
                }

                function next(userInitiated = false) {
                    goTo(index + 1, userInitiated);
                }

                function prev(userInitiated = false) {
                    goTo(index - 1, userInitiated);
                }

                // --- Autoplay ---
                function startAutoplay() {
                    if (mqlReduce.matches) return; // respect reduced motion
                    if (timer) return;
                    timer = setInterval(() => next(false), AUTOPLAY_DELAY);
                }

                function stopAutoplay() {
                    if (timer) {
                        clearInterval(timer);
                        timer = null;
                    }
                }

                function restartAutoplay() {
                    stopAutoplay();
                    startAutoplay();
                }

                // Pause on hover/focus
                root.addEventListener("mouseenter", () => {
                    isHoverPaused = true;
                    stopAutoplay();
                });
                root.addEventListener("mouseleave", () => {
                    isHoverPaused = false;
                    if (!isFocusPaused) startAutoplay();
                });
                root.addEventListener("focusin", () => {
                    isFocusPaused = true;
                    stopAutoplay();
                });
                root.addEventListener("focusout", (e) => {
                    // Only resume when focus leaves the whole component
                    if (!root.contains(document.activeElement)) {
                        isFocusPaused = false;
                        if (!isHoverPaused) startAutoplay();
                    }
                });

                // --- Controls ---
                nextBtn.addEventListener("click", () => next(true));
                prevBtn.addEventListener("click", () => prev(true));

                // Keyboard on viewport
                viewport.addEventListener("keydown", (e) => {
                    switch (e.key) {
                        case "ArrowRight":
                            e.preventDefault();
                            next(true);
                            break;
                        case "ArrowLeft":
                            e.preventDefault();
                            prev(true);
                            break;
                        case "Home":
                            e.preventDefault();
                            goTo(0, true);
                            break;
                        case "End":
                            e.preventDefault();
                            goTo(total - 1, true);
                            break;
                    }
                });

                // --- Swipe / drag (pointer events) ---
                let startX = null;
                let isPointerDown = false;

                function onPointerDown(e) {
                    isPointerDown = true;
                    startX = e.clientX || (e.touches && e.touches[0].clientX);
                    viewport.setPointerCapture?.(e.pointerId || 0);
                }
                function onPointerMove(e) {
                    if (!isPointerDown || startX == null) return;
                    const x = e.clientX || (e.touches && e.touches[0].clientX);
                    if (typeof x !== "number") return;
                    const dx = x - startX;
                    // We keep it simple: only act on release; optional: you could do a subtle drag offset here.
                    // (CSS transition already handles snap feel.)
                }
                function onPointerUp(e) {
                    if (!isPointerDown || startX == null) return;
                    const x = e.clientX || (e.changedTouches && e.changedTouches[0].clientX);
                    const dx = x - startX;
                    isPointerDown = false;
                    startX = null;
                    if (Math.abs(dx) > SWIPE_THRESHOLD) {
                        if (dx < 0) next(true);
                        else prev(true);
                    }
                }

                // Mouse + touch
                viewport.addEventListener("pointerdown", onPointerDown, { passive: true });
                viewport.addEventListener("pointermove", onPointerMove, { passive: true });
                viewport.addEventListener("pointerup", onPointerUp, { passive: true });
                viewport.addEventListener("pointercancel", onPointerUp, { passive: true });
                viewport.addEventListener("touchstart", (e) => onPointerDown(e), { passive: true });
                viewport.addEventListener("touchend", (e) => onPointerUp(e), { passive: true });

                // --- Intersection-aware autoplay ---
                const io = new IntersectionObserver(
                    (entries) => {
                        const entry = entries[0];
                        if (entry && entry.isIntersecting && entry.intersectionRatio >= 0.6) {
                            if (!isHoverPaused && !isFocusPaused) startAutoplay();
                        } else {
                            stopAutoplay();
                        }
                    },
                    { threshold: [0, 0.6, 1] }
                );
                io.observe(root);

                // --- Init ---
                buildDots();
                goTo(0, false);

                // Optional: update on resize (not strictly needed since we use % widths)
                window.addEventListener("resize", () => {
                    // Re-apply transform to avoid subpixel rounding drift
                    track.style.transform = `translateX(-${index * 100}%)`;
                });

                // If reduced motion toggles while open
                mqlReduce.addEventListener?.("change", () => {
                    stopAutoplay();
                    if (!mqlReduce.matches && !isHoverPaused && !isFocusPaused) startAutoplay();
                });
            })();
        </script>
    </body>
</html>
